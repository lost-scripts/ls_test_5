<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Run Lua Script</title>
    <script src="lua.vm.js"></script>
</head>
<body>
    <h1>Run Lua Script</h1>
    <script>
        async function loadAndRunLuaScript(url, functionName) {
            try {
                // Cargar el script Lua
                const response = await fetch(url);
                const luaScript = await response.text();

                // Crear la VM de Lua
                const L = new lua.vm.Lua.State();

                // Ejecutar el script Lua
                L.execute(luaScript);

                // Llamar a la función Lua y obtener el resultado
                L.execute(`return ${functionName}()`);
                const result = L.result[0];  // Obtener el resultado de la función

                console.log(result);  // Mostrar el resultado en la consola
                document.body.innerHTML += `<p>Resultado: ${result}</p>`;
            } catch (error) {
                console.error('Error ejecutando el script Lua:', error);
            }
        }

        // URL del script Lua en GitHub Pages
        const luaScriptUrl = 'https://lost-scripts.github.io/ls_test_5/ls_shapes_window.lua';
        const functionName = 'LS_ShapesWindow:Version()';

        loadAndRunLuaScript(luaScriptUrl, functionName);
    </script>
</body>
</html>

